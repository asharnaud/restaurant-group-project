!function(){function a(a){var b=a.height();c(".photo-side-column").height(b)}function b(){var b=c(".tabs-menu .active")[0],d=b.dataset.btn;a(c("#"+d))}var c=window.jQuery;window.THE_BLACK_POT=window.THE_BLACK_POT||{},THE_BLACK_POT.resizeSidebarHeight=b}(),function(){function a(){console.info("Fetching Flickr images now."),f.get(g).done(c).fail(b)}function b(){var a="http://lorempixel.com/600/400/food/";f(".header-img img").attr("src",a),f("#dailySpecialImg").attr("src",a),f(".side-photo").attr("src",a)}function c(a){d(a,32,"#img1"),d(a,31,"#img2"),d(a,29,"#img3"),d(a,13,"#dailySpecialImg"),d(a,44,"#storyImg"),d(a,5,".side-photo-1"),d(a,30,".side-photo-2"),d(a,14,".side-photo-3")}function d(a,b,c){var d=a.photos.photo[b].id,g=a.photos.photo[b].farm,h=a.photos.photo[b].server,i=a.photos.photo[b].secret,j="https://farm"+g+".staticflickr.com/"+h+"/"+d+"_"+i+".jpg";f(c).attr("src",j),e(c)}function e(a){f(a).on("load",function(){THE_BLACK_POT.resizeSidebarHeight()})}var f=window.jQuery,g="https://api.flickr.com/services/rest/?method=flickr.photos.search&api_key=e0de23a6e8692914d68addb1c4dab779&format=json&tags=creole?food&text=creole?food&nojsoncallback=?";THE_BLACK_POT.fetchFlickrImages=a}(),function(){function a(){c(e[d]).fadeIn(1e3,function(){c(this).delay(4e3).fadeOut(1e3,b)})}function b(){d++,d===e.length&&(d=0),a()}var c=window.jQuery,d=0,e=c("#slides img");e.hide(),THE_BLACK_POT.animateSlide=a}(),function(){function a(){var a={lat:30.0688,lng:-89.930881},b=new google.maps.Map(document.getElementById("map"),{zoom:8,center:a}),c=new google.maps.Marker({position:a,map:b});console.log(c)}window.THE_BLACK_POT=window.THE_BLACK_POT||{},window.THE_BLACK_POT.initGoogleMap=a}(),function(){function a(a){e("#title").html(THE_BLACK_POT.escapeHtml(a.title)+"  "+THE_BLACK_POT.escapeHtml(a.date_published)),e("#news").html(THE_BLACK_POT.escapeHtml(a.post)),e("#news").html(d("#news",450))}function b(a){a.html("Sorry we are having some techinal difficulties.")}function c(){e.get("https://json-data.herokuapp.com/restaurant/news/1").done(a).fail(b)}function d(a,b){var c=e(a),d=c.html();return d.length>b&&(d=d.substr(0,b)+"...<a>read more</a>"),d}var e=window.jQuery;b(e("#news")),THE_BLACK_POT.fetchNews=c}(),function(){function a(a){var b="#"+a.menu_item_id,c=d(b);d("#dailySpecial").html(c)}function b(a){a.html("Sorry we are having some techinal difficulties.")}function c(){d.get("https://json-data.herokuapp.com/restaurant/special/1").done(a).fail(b)}var d=window.jQuery;b(d("#dailySpecial")),window.THE_BLACK_POT=window.THE_BLACK_POT||{},THE_BLACK_POT.fetchDailySpecial=c}(),function(){function a(){i.get("https://json-data.herokuapp.com/restaurant/menu/1").done(c).fail(b)}function b(a){a.html("Sorry we are having some techinal difficulties.")}function c(a){for(var b in a)a.hasOwnProperty(b)&&d(b,a[b])}function d(a,b){a=f(a);var c="<h3>"+h(a)+"</h3> <hr>";i("#menu").append(c),b.forEach(function(a){i("#menu").append(e(a))}),THE_BLACK_POT.fetchDailySpecial()}function e(a){return'<div id="'+a.id+'" class="food-wrapper"><div class="food-title"><h4>'+f(a.item)+'</h4><span class="bar-menu">&#8226;</span><span class="price"> $'+a.price+' </span><span class="bar-menu">&#8226;</span><div class="food-icon-wrapper"><i title="vegan" class="fa fa-leaf '+g(a.vegan)+'"></i><i title="spicy" class="fa fa-thermometer-full '+g(a.spicy)+'"></i><i title="allergies" class="fa fa-ambulance '+g(a.allergies)+'"></i><i title="favorite" class="fa fa-star '+g(a.favorite)+'"></i></div></div><p class="food-description">'+f(a.description)+"</p></div>"}function f(a){if("string"==typeof a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}}function g(a){return 1===a?"active":"inactive"}function h(a){return a.charAt(0).toUpperCase()+a.slice(1)}var i=window.jQuery;THE_BLACK_POT.fetchMenu=a,THE_BLACK_POT.escapeHtml=f}(),function(){function a(a){b(".tabs-menu .tabs").removeClass("active"),b(this).addClass("active");var c="#"+a.target.dataset.btn;b("#menu, #story, #reservation, #reviews, #shop").hide(),b(c).fadeToggle(),THE_BLACK_POT.resizeSidebarHeight()}var b=window.jQuery;b(".tabs-menu .tabs").click(a),b("#menu, #reservation, #reviews, #shop").hide()}(),function(){function a(){c.fetchFlickrImages(),c.fetchNews(),c.fetchDailySpecial(),c.fetchMenu(),c.initGoogleMap(),c.animateSlide()}var b=window.jQuery,c=window.THE_BLACK_POT;b(a)}();